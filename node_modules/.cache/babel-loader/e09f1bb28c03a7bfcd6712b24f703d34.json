{"ast":null,"code":"import _regeneratorRuntime from\"/home/enspire/Documents/react_projects/mocan-react-tours-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/enspire/Documents/react_projects/mocan-react-tours-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/enspire/Documents/react_projects/mocan-react-tours-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Loading from'./Loading';import Tours from'./Tours';// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nvar url='https://course-api.com/react-tours-project';function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tours=_useState4[0],setTours=_useState4[1];var removeTour=function removeTour(id){var newTours=tours.filter(function(tour){return tour.id!==id;});setTours(newTours);};var fetchTours=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_tours;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return fetch(url);case 4:response=_context.sent;_context.next=7;return response.json();case 7:_tours=_context.sent;setLoading(false);setTours(_tours);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);setLoading(false);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function fetchTours(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchTours();},[]);if(loading){return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(Loading,null));}if(tours.length===0){return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},/*#__PURE__*/React.createElement(\"h2\",null,\"no tours lefts\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",onClick:fetchTours},\"refresh\")));}return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(Tours,{tours:tours,removeTour:removeTour}));}export default App;","map":{"version":3,"sources":["/home/enspire/Documents/react_projects/mocan-react-tours-app/src/App.js"],"names":["React","useState","useEffect","Loading","Tours","url","App","loading","setLoading","tours","setTours","removeTour","id","newTours","filter","tour","fetchTours","fetch","response","json","console","log","length"],"mappings":"shBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA;AACA;AACA,GAAMC,CAAAA,GAAG,CAAG,4CAAZ,CACA,QAASC,CAAAA,GAAT,EAAe,eACgBL,QAAQ,CAAC,IAAD,CADxB,wCACNM,OADM,eACEC,UADF,8BAEYP,QAAQ,CAAC,EAAD,CAFpB,yCAENQ,KAFM,eAEAC,QAFA,eAIb,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAQ,CACzB,GAAMC,CAAAA,QAAQ,CAAGJ,KAAK,CAACK,MAAN,CAAa,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACH,EAAL,GAAYA,EAAtB,EAAb,CAAjB,CACAF,QAAQ,CAACG,QAAD,CAAR,CACD,CAHD,CAKA,GAAMG,CAAAA,UAAU,0FAAG,uJACjBR,UAAU,CAAC,IAAD,CAAV,CADiB,sCAIQS,CAAAA,KAAK,CAACZ,GAAD,CAJb,QAITa,QAJS,qCAKKA,CAAAA,QAAQ,CAACC,IAAT,EALL,QAKTV,MALS,eAMfD,UAAU,CAAC,KAAD,CAAV,CACAE,QAAQ,CAACD,MAAD,CAAR,CAPe,iFASfD,UAAU,CAAC,KAAD,CAAV,CACAY,OAAO,CAACC,GAAR,cAVe,qEAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAcAd,SAAS,CAAC,UAAM,CACdc,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAIT,OAAJ,CAAa,CACX,mBAAO,6CACL,oBAAC,OAAD,MADK,CAAP,CAGD,CAED,GAAGE,KAAK,CAACa,MAAN,GAAiB,CAApB,CAAuB,CACrB,mBAAO,6CACL,2BAAK,SAAS,CAAC,OAAf,eACE,+CADF,cAEE,8BAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAEN,UAAjC,YAFF,CADK,CAAP,CAMD,CAED,mBACE,6CACE,oBAAC,KAAD,EAAO,KAAK,CAAEP,KAAd,CAAqB,UAAU,CAAEE,UAAjC,EADF,CADF,CAKD,CAED,cAAeL,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Loading from './Loading'\nimport Tours from './Tours'\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-tours-project'\nfunction App() {\n  const [loading,setLoading] = useState(true);\n  const [tours,setTours] = useState([]);\n\n  const removeTour = (id) => {\n    const newTours = tours.filter((tour) => tour.id !== id);\n    setTours(newTours);\n  }\n\n  const fetchTours = async () => {\n    setLoading(true);\n\n    try {\n      const response = await fetch(url);\n      const tours = await response.json();\n      setLoading(false);\n      setTours(tours);\n    } catch (error) {\n      setLoading(false);\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTours();\n  }, []);\n\n  if (loading) {\n    return <main>\n      <Loading />\n    </main>\n  }\n  \n  if(tours.length === 0) {\n    return <main>\n      <div className=\"title\">\n        <h2>no tours lefts</h2>\n        <button className=\"btn\" onClick={fetchTours}>refresh</button>\n      </div>\n    </main>\n  }\n\n  return (\n    <main>\n      <Tours tours={tours} removeTour={removeTour}/>\n    </main>\n  );\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}